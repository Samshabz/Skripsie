import matplotlib.pyplot as plt
import os
# GPS Data for each dataset

estim_GPS_DATASET_1 = [
    (18.678635947, 33.907488508),
    (18.666967947, 33.911988682),
    (18.653882704, 33.924681086),
    (18.651390509, 33.938934915),
    (18.661895788, 33.945138526),
    (18.674353105, 33.954521004),
    (18.682080514, 33.965423661),
    (18.680826765, 33.979632175),
    (18.675852368, 33.992506322),
    (18.669900733, 33.997177830),
    (18.655198525, 33.996876228),
    (18.641535063, 33.995880671),
    (18.628576106, 33.999593893),
    (18.618901199, 34.008371508)
]

actual_GPS_DATASET_1 = [
    (18.678650000, 33.907563889),
    (18.666994444, 33.911994444),
    (18.653883333, 33.924711111),
    (18.651438889, 33.938905556),
    (18.661991667, 33.945102778),
    (18.674450000, 33.954516667),
    (18.682077778, 33.965455556),
    (18.680797222, 33.979644444),
    (18.675888889, 33.992544444),
    (18.669911111, 33.997183333),
    (18.655208333, 33.996786111),
    (18.641550000, 33.995883333),
    (18.628619444, 33.999611111),
    (18.618883333, 34.008375000)
]

estim_GPS_DATASET_2 = [
    (18.545649994, 33.898558761),
    (18.543346586, 33.908426116),
    (18.524045616, 33.914119178),
    (18.513221416, 33.919824319),
    (18.506353404, 33.928014056),
    (18.495286204, 33.934442711),
    (18.487189220, 33.942843881),
    (18.501274209, 33.953475003),
    (18.514823737, 33.959606395),
    (18.528609484, 33.959901975),
    (18.539532127, 33.960920696),
    (18.532700385, 33.972934241),
    (18.525763255, 33.981923367),
    (18.516301449, 33.989026708)
]

actual_GPS_DATASET_2 = [
    (18.545672222, 33.898575000),
    (18.543366667, 33.908455556),
    (18.524072222, 33.914133333),
    (18.513194444, 33.919811111),
    (18.506383333, 33.928027778),
    (18.495319444, 33.934447222),
    (18.487183333, 33.942805556),
    (18.501258333, 33.953444444),
    (18.514800000, 33.959586111),
    (18.528600000, 33.959886111),
    (18.539541667, 33.960936111),
    (18.532725000, 33.972952778),
    (18.525780556, 33.981933333),
    (18.516283333, 33.989016667)
]

estim_GPS_DATASET_3 = [
    (21.271802719, 31.554561474),
    (21.283281018, 31.548720679),
    (21.270393794, 31.556518585),
    (21.270960114, 31.576622324),
    (21.259845485, 31.574679908),
    (21.268596651, 31.565229169),
    (21.250545894, 31.569285179),
    (21.230056488, 31.559075245),
    (21.220791226, 31.563139768),
    (21.219800615, 31.563260346),
    (21.191358652, 31.561069231),
    (21.168531207, 31.569788987),
    (21.160184156, 31.585353272),
    (21.158510263, 31.590037097)
]

actual_GPS_DATASET_3 = [
    (21.271777778, 31.554544444),
    (21.283119444, 31.548780556),
    (21.270419444, 31.556527778),
    (21.270888889, 31.576725000),
    (21.259844444, 31.574730556),
    (21.268666667, 31.565200000),
    (21.250552778, 31.569230556),
    (21.230077778, 31.559150000),
    (21.220791667, 31.563147222),
    (21.219800000, 31.563252778),
    (21.191411111, 31.560902778),
    (21.168536111, 31.569786111),
    (21.160200000, 31.585372222),
    (21.158494444, 31.590019444)
]

estim_GPS_DATASET_4 = [
    (-4.548767573, -19.666611230),
    (-4.546094076, -19.660119123),
    (-4.549262525, -19.654681845),
    (-4.554677756, -19.655466922),
    (-4.560304786, -19.649186736),
    (-4.564086076, -19.641339910),
    (-4.560779170, -19.631130745),
    (-4.551190446, -19.627240942),
    (-4.542124900, -19.623200822),
    (-4.539345854, -19.617741204),
    (-4.545076458, -19.612606137),
    (-4.542319150, -19.604022490),
    (-4.533430283, -19.597181315),
    (-4.535876036, -19.586451809)
]

actual_GPS_DATASET_4 = [
    (-4.548769444, -19.666600000),
    (-4.546105556, -19.660111111),
    (-4.549252778, -19.654688889),
    (-4.554680556, -19.655458333),
    (-4.560355556, -19.649197222),
    (-4.564050000, -19.641338889),
    (-4.560769444, -19.631127778),
    (-4.551213889, -19.627166667),
    (-4.542141667, -19.623183333),
    (-4.539358333, -19.617752778),
    (-4.545063889, -19.612594444),
    (-4.542330556, -19.604008333),
    (-4.533408333, -19.597163889),
    (-4.535869444, -19.586444444)
]

estim_GPS_DATASET_5 = [
    (-62.127390908, 3.463321400),
    (-62.137775778, 3.460874420),
    (-62.138977484, 3.452553918),
    (-62.138092302, 3.447115823),
    (-62.139107882, 3.438992655),
    (-62.139764261, 3.428040785),
    (-62.128665909, 3.427595457),
    (-62.121673433, 3.426215167),
    (-62.110105771, 3.428633907),
    (-62.104514939, 3.433002742),
    (-62.102785107, 3.435548179),
    (-62.102532570, 3.445093470),
    (-62.111113726, 3.445970912),
    (-62.122458467, 3.451774344)
]

actual_GPS_DATASET_5 = [
    (-62.127358333, 3.463344444),
    (-62.137786111, 3.460858333),
    (-62.138986111, 3.452550000),
    (-62.138102778, 3.447116667),
    (-62.139094444, 3.438991667),
    (-62.139750000, 3.428100000),
    (-62.128661111, 3.427586111),
    (-62.121655556, 3.426213889),
    (-62.110108333, 3.428650000),
    (-62.104525000, 3.433019444),
    (-62.102777778, 3.435533333),
    (-62.102541667, 3.445158333),
    (-62.111094444, 3.446013889),
    (-62.122450000, 3.451775000)
]



# Function to plot estimated and actual GPS data and save them as PNG files
# Directory to save the figures
directory = "./REPORT/stellenbosch_ee_report_template-master/Chapter 5/GPSpaths"

# Create the directory if it doesn't exist
os.makedirs(directory, exist_ok=True)

# Function to plot estimated and actual GPS data and save them as PNG files
def plot_gps_paths(estim_gps, actual_gps, dataset_number, directory):
    plt.figure(figsize=(12, 8))
    plt.title(f'Estimated vs Actual GPS Path', fontsize=40)
    plt.xlabel('Longitude', fontsize=40)
    plt.ylabel('Latitude', fontsize=40)

    # Unzip estimated GPS data
    estim_lon, estim_lat = zip(*estim_gps)
    # Unzip actual GPS data
    actual_lon, actual_lat = zip(*actual_gps)

    # Plot estimated GPS path
    plt.plot(estim_lon, estim_lat, color='blue', marker='o', linestyle='-', label='Estimated GPS Path')
    # Plot actual GPS path
    plt.plot(actual_lon, actual_lat, color='red', marker='o', linestyle='-', label='Actual GPS Path')

    # create legend with equivalent font size
    plt.legend(fontsize=20)
    plt.grid(True)
    plt.xlim(min(min(estim_lon), min(actual_lon)) - 0.01, max(max(estim_lon), max(actual_lon)) + 0.01)
    plt.ylim(min(min(estim_lat), min(actual_lat)) - 0.01, max(max(estim_lat), max(actual_lat)) + 0.01)
    plt.xticks(fontsize=24)
    plt.yticks(fontsize=24)
    plt.tight_layout()

    # Save the figure with specified names
    file_name = f"{directory}/PathCity{dataset_number}.png"
    plt.savefig(file_name)  # Save the figure as a PNG file
    plt.close()  # Close the figure

# Plot for each dataset and save
plot_gps_paths(estim_GPS_DATASET_1, actual_GPS_DATASET_1, 1, directory)
plot_gps_paths(estim_GPS_DATASET_2, actual_GPS_DATASET_2, 2, directory)
plot_gps_paths(estim_GPS_DATASET_3, actual_GPS_DATASET_3, 3, directory)
plot_gps_paths(estim_GPS_DATASET_4, actual_GPS_DATASET_4, 4, directory)
plot_gps_paths(estim_GPS_DATASET_5, actual_GPS_DATASET_5, 5, directory)