import matplotlib.pyplot as plt
import os
# GPS Data for each dataset

estim_GPS_DATASET_1 = [
    (18.678991697, 33.908221147),
    (18.666635553, 33.911317848),
    (18.653008676, 33.924308283),
    (18.652273471, 33.938235550),
    (18.661365297, 33.945809225),
    (18.673964084, 33.955183061),
    (18.681596284, 33.965966829),
    (18.681314588, 33.979981115),
    (18.675919480, 33.992491425),
    (18.669846601, 33.997242787),
    (18.655292328, 33.996362691),
    (18.641775100, 33.995348380),
    (18.628467048, 33.999082300),
    (18.618329756, 34.008030670)
]

actual_GPS_DATASET_1 = [
    (18.678650000, 33.907563889),
    (18.666994444, 33.911994444),
    (18.653883333, 33.924711111),
    (18.651438889, 33.938905556),
    (18.661991667, 33.945102778),
    (18.674450000, 33.954516667),
    (18.682077778, 33.965455556),
    (18.680797222, 33.979644444),
    (18.675888889, 33.992544444),
    (18.669911111, 33.997183333),
    (18.655208333, 33.996786111),
    (18.641550000, 33.995883333),
    (18.628619444, 33.999611111),
    (18.618883333, 34.008375000)
]

estim_GPS_DATASET_2 = [
    (18.545537161, 33.898578296),
    (18.543433099, 33.908429470),
    (18.523972771, 33.914071780),
    (18.513237464, 33.919826092),
    (18.506462020, 33.928017958),
    (18.495404209, 33.934398813),
    (18.487200214, 33.942773034),
    (18.501424665, 33.953456968),
    (18.514821905, 33.959552467),
    (18.528607074, 33.959872538),
    (18.539557909, 33.960856520),
    (18.532690659, 33.972942570),
    (18.525808134, 33.981861258),
    (18.516303739, 33.989019716)
]

actual_GPS_DATASET_2 = [
    (18.545672222, 33.898575000),
    (18.543366667, 33.908455556),
    (18.524072222, 33.914133333),
    (18.513194444, 33.919811111),
    (18.506383333, 33.928027778),
    (18.495319444, 33.934447222),
    (18.487183333, 33.942805556),
    (18.501258333, 33.953444444),
    (18.514800000, 33.959586111),
    (18.528600000, 33.959886111),
    (18.539541667, 33.960936111),
    (18.532725000, 33.972952778),
    (18.525780556, 33.981933333),
    (18.516283333, 33.989016667)
]

estim_GPS_DATASET_3 = [
    (21.271822919, 31.554531292),
    (21.283398072, 31.548741912),
    (21.270410405, 31.556538093),
    (21.270687467, 31.576554339),
    (21.260039087, 31.574357654),
    (21.268741067, 31.565025942),
    (21.250437242, 31.569545126),
    (21.230089389, 31.558975065),
    (21.220802463, 31.563126400),
    (21.219792120, 31.563276940),
    (21.191151118, 31.561166057),
    (21.168703606, 31.569982573),
    (21.159987469, 31.585431604),
    (21.158666357, 31.589978462)
]

actual_GPS_DATASET_3 = [
    (21.271777778, 31.554544444),
    (21.283119444, 31.548780556),
    (21.270419444, 31.556527778),
    (21.270888889, 31.576725000),
    (21.259844444, 31.574730556),
    (21.268666667, 31.565200000),
    (21.250552778, 31.569230556),
    (21.230077778, 31.559150000),
    (21.220791667, 31.563147222),
    (21.219800000, 31.563252778),
    (21.191411111, 31.560902778),
    (21.168536111, 31.569786111),
    (21.160200000, 31.585372222),
    (21.158494444, 31.590019444)
]

estim_GPS_DATASET_4 = [
    (-4.548428630, -19.666640434),
    (-4.546136937, -19.660156800),
    (-4.549346127, -19.654644091),
    (-4.554526715, -19.655500848),
    (-4.560695759, -19.649441945),
    (-4.564325899, -19.641352437),
    (-4.560359144, -19.631378551),
    (-4.551440552, -19.626932858),
    (-4.541976763, -19.623299407),
    (-4.539155291, -19.617629164),
    (-4.545254611, -19.612707759),
    (-4.542158215, -19.604242350),
    (-4.533551574, -19.596831752),
    (-4.536374159, -19.586801333)
]

actual_GPS_DATASET_4 = [
    (-4.548769444, -19.666600000),
    (-4.546105556, -19.660111111),
    (-4.549252778, -19.654688889),
    (-4.554680556, -19.655458333),
    (-4.560355556, -19.649197222),
    (-4.564050000, -19.641338889),
    (-4.560769444, -19.631127778),
    (-4.551213889, -19.627166667),
    (-4.542141667, -19.623183333),
    (-4.539358333, -19.617752778),
    (-4.545063889, -19.612594444),
    (-4.542330556, -19.604008333),
    (-4.533408333, -19.597163889),
    (-4.535869444, -19.586444444)
]

estim_GPS_DATASET_5 = [
    (-62.127302348, 3.463463545),
    (-62.137558541, 3.460218609),
    (-62.139182091, 3.452457260),
    (-62.137871941, 3.447208632),
    (-62.138775097, 3.439096500),
    (-62.139341545, 3.427837659),
    (-62.128812499, 3.428038598),
    (-62.121925659, 3.426935927),
    (-62.110281019, 3.428864024),
    (-62.104886351, 3.433113469),
    (-62.102390755, 3.435432284),
    (-62.102787149, 3.444980834),
    (-62.111008728, 3.446566067),
    (-62.122199523, 3.451911278)
]

actual_GPS_DATASET_5 = [
    (-62.127358333, 3.463344444),
    (-62.137786111, 3.460858333),
    (-62.138986111, 3.452550000),
    (-62.138102778, 3.447116667),
    (-62.139094444, 3.438991667),
    (-62.139750000, 3.428100000),
    (-62.128661111, 3.427586111),
    (-62.121655556, 3.426213889),
    (-62.110108333, 3.428650000),
    (-62.104525000, 3.433019444),
    (-62.102777778, 3.435533333),
    (-62.102541667, 3.445158333),
    (-62.111094444, 3.446013889),
    (-62.122450000, 3.451775000)
]


# Function to plot estimated and actual GPS data and save them as PNG files
# Directory to save the figures
directory = "./REPORT/stellenbosch_ee_report_template-master/Chapter 5/GPSpaths"

# Create the directory if it doesn't exist
os.makedirs(directory, exist_ok=True)

# Function to plot estimated and actual GPS data and save them as PNG files
def plot_gps_paths(estim_gps, actual_gps, dataset_number, directory):
    plt.figure(figsize=(12, 8))
    plt.title(f'Dataset {dataset_number}: Estimated vs Actual GPS Path', fontsize=16)
    plt.xlabel('Longitude', fontsize=14)
    plt.ylabel('Latitude', fontsize=14)

    # Unzip estimated GPS data
    estim_lon, estim_lat = zip(*estim_gps)
    # Unzip actual GPS data
    actual_lon, actual_lat = zip(*actual_gps)

    # Plot estimated GPS path
    plt.plot(estim_lon, estim_lat, color='blue', marker='o', linestyle='-', label='Estimated GPS Path')
    # Plot actual GPS path
    plt.plot(actual_lon, actual_lat, color='red', marker='o', linestyle='-', label='Actual GPS Path')

    plt.legend()
    plt.grid(True)
    plt.xlim(min(min(estim_lon), min(actual_lon)) - 0.01, max(max(estim_lon), max(actual_lon)) + 0.01)
    plt.ylim(min(min(estim_lat), min(actual_lat)) - 0.01, max(max(estim_lat), max(actual_lat)) + 0.01)
    plt.tight_layout()

    # Save the figure with specified names
    file_name = f"{directory}/PathCity{dataset_number}.png"
    plt.savefig(file_name)  # Save the figure as a PNG file
    plt.close()  # Close the figure

# Plot for each dataset and save
plot_gps_paths(estim_GPS_DATASET_1, actual_GPS_DATASET_1, 1, directory)
plot_gps_paths(estim_GPS_DATASET_2, actual_GPS_DATASET_2, 2, directory)
plot_gps_paths(estim_GPS_DATASET_3, actual_GPS_DATASET_3, 3, directory)
plot_gps_paths(estim_GPS_DATASET_4, actual_GPS_DATASET_4, 4, directory)
plot_gps_paths(estim_GPS_DATASET_5, actual_GPS_DATASET_5, 5, directory)